<!doctype html><html lang=en-us>
<head>
<script data-ad-client=ca-pub-1030730506660314 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script id=mNCC language=javascript>medianet_width="728",medianet_height="90",medianet_crid="167545135",medianet_versionId="3111299"</script>
<script src="//contextual.media.net/nmedianet.js?cid=8CU62P5S3"></script>
<script type=text/javascript src=https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js></script>
<script type=text/javascript src=https://blockchain.info/Resources/js/pay-now-button.js></script>
<link rel=preload href=../../lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=../../lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=../../lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=../../lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<script type=text/javascript src=https://latest.cactus.chat/cactus.js></script>
<link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> The art of avoiding nested code | The Python Corner</title>
<link rel=canonical href=https://mastro35.github.io/tpc/posts/2017-12-04-the-art-of-avoiding-nested-code/>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="The art of avoiding nested code">
<meta property="og:description" content="Today&rsquo;s article is about nested code and how to avoid it.
Why we should try to avoid nested code? Well the answer is inside your heart, and in your Python interpreter&mldr;
Start your REPL and write:
1>>> import this you will get the &ldquo;Zen Of Python&rdquo; by Tim Peters.
The Zen of Python, by Tim PetersBeautiful is better than ugly.Explicit is better than implicit.Simple is better than complex.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://mastro35.github.io/tpc/posts/2017-12-04-the-art-of-avoiding-nested-code/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2017-12-04T23:34:42+01:00">
<meta property="article:modified_time" content="2017-12-04T23:34:42+01:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="The art of avoiding nested code">
<meta name=twitter:description content="Today&rsquo;s article is about nested code and how to avoid it.
Why we should try to avoid nested code? Well the answer is inside your heart, and in your Python interpreter&mldr;
Start your REPL and write:
1>>> import this you will get the &ldquo;Zen Of Python&rdquo; by Tim Peters.
The Zen of Python, by Tim PetersBeautiful is better than ugly.Explicit is better than implicit.Simple is better than complex.">
<link rel=stylesheet href=https://mastro35.github.io/tpc/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N+XoIuZg=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=apple-touch-icon sizes=57x57 href=../../images/apple-icon-57x57.png>
<link rel=apple-touch-icon sizes=60x60 href=../../images/apple-icon-60x60.png>
<link rel=apple-touch-icon sizes=72x72 href=../../images/apple-icon-72x72.png>
<link rel=apple-touch-icon sizes=76x76 href=../../images/apple-icon-76x76.png>
<link rel=apple-touch-icon sizes=114x114 href=../../images/apple-icon-114x114.png>
<link rel=apple-touch-icon sizes=120x120 href=../../images/apple-icon-120x120.png>
<link rel=apple-touch-icon sizes=144x144 href=../../images/apple-icon-144x144.png>
<link rel=apple-touch-icon sizes=152x152 href=../../images/apple-icon-152x152.png>
<link rel=apple-touch-icon sizes=180x180 href=../../images/apple-icon-180x180.png>
<link rel=icon type=image/png sizes=192x192 href=../../images/android-icon-192x192.png>
<link rel=icon type=image/png sizes=32x32 href=../../images/favicon-32x32.png>
<link rel=icon type=image/png sizes=96x96 href=../../images/favicon-96x96.png>
<link rel=icon type=image/png sizes=16x16 href=../../images/favicon-16x16.png>
<link rel=manifest href=../../manifest.json>
<meta name=msapplication-TileColor content="#ffffff">
<meta name=msapplication-TileImage content="/images/ms-icon-144x144.png">
<meta name=theme-color content="#ffffff">
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-120027408-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id=header-post>
<a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu>
<span id=nav>
<ul>
<li><a href=../../>Home</a></li>
<li><a href=../../posts>Articles</a></li>
<li><a href=../../tags>Tags</a></li>
<li><a href=../../about>About</a></li>
<li><a href=https://buttondown.email/thepythoncorner>Newsletter</a></li>
<li><a href=https://shop.spreadshirt.com/the-python-corner>Swag Store</a></li>
</ul>
</span>
<br>
<span id=actions>
<ul>
<li>
<a class=icon href=https://mastro35.github.io/tpc/posts/2017-08-29-logging-in-python/ aria-label=Previous>
<i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=https://mastro35.github.io/tpc/posts/2017-12-13-lambdas-and-functions-in-python/ aria-label=Next>
<i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i>
</a>
</li>
<li>
<a class=icon href=# aria-label=Share>
<i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i>
</a>
</li>
</ul>
<span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span>
</span>
<br>
<div id=share style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f" aria-label=Facebook>
<i class="fab fa-facebook" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&text=The%20art%20of%20avoiding%20nested%20code" aria-label=Twitter>
<i class="fab fa-twitter" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&title=The%20art%20of%20avoiding%20nested%20code" aria-label=Linkedin>
<i class="fab fa-linkedin" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&is_video=false&description=The%20art%20of%20avoiding%20nested%20code" aria-label=Pinterest>
<i class="fab fa-pinterest" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=The%20art%20of%20avoiding%20nested%20code&body=Check out this article: https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f" aria-label=Email>
<i class="fas fa-envelope" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&title=The%20art%20of%20avoiding%20nested%20code" aria-label=Pocket>
<i class="fab fa-get-pocket" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&title=The%20art%20of%20avoiding%20nested%20code" aria-label=reddit>
<i class="fab fa-reddit" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&name=The%20art%20of%20avoiding%20nested%20code&description=Today%26rsquo%3bs%20article%20is%20about%20nested%20code%20and%20how%20to%20avoid%20it.%0aWhy%20we%20should%20try%20to%20avoid%20nested%20code%3f%20Well%20the%20answer%20is%20inside%20your%20heart%2c%20and%20in%20your%20Python%20interpreter%26hellip%3b%0aStart%20your%20REPL%20and%20write%3a%0a1%26gt%3b%26gt%3b%26gt%3b%20import%20this%20you%20will%20get%20the%20%26ldquo%3bZen%20Of%20Python%26rdquo%3b%20by%20Tim%20Peters.%0aThe%20Zen%20of%20Python%2c%20by%20Tim%20Peters%0dBeautiful%20is%20better%20than%20ugly.%0dExplicit%20is%20better%20than%20implicit.%0dSimple%20is%20better%20than%20complex." aria-label=Tumblr>
<i class="fab fa-tumblr" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&t=The%20art%20of%20avoiding%20nested%20code" aria-label="Hacker News">
<i class="fab fa-hacker-news" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#tip-1--list-comprehension>Tip #1 — List Comprehension</a></li>
<li><a href=#tip-2--map-filter-and-reduce>Tip #2 — Map, Filter and Reduce</a>
<ul>
<li><a href=#the-map-function>The map function</a></li>
<li><a href=#the-filter-function>The filter function</a></li>
<li><a href=#the-reduce-function>The reduce function</a></li>
</ul>
</li>
<li><a href=#tip-3--ternary-conditional-operator>Tip #3 — Ternary conditional operator</a></li>
</ul>
</nav>
</div>
</span>
</div>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<header>
<h1 class=posttitle itemprop="name headline">
The art of avoiding nested code
</h1>
<div class=meta>
<div class=postdate>
<time datetime="2017-12-04 23:34:42 +0100 CET" itemprop=datePublished>2017-12-04</time>
</div>
<div class=article-read-time>
<i class="far fa-clock"></i>
5 minute read
</div>
<div class=article-category>
<i class="fas fa-archive"></i>
<a class=category-link href=../../categories/dev>Dev</a>
</div>
<div class=article-tag>
<i class="fas fa-tag"></i>
<a class=tag-link href=../../tags/featured rel=tag>Featured</a>
,
<a class=tag-link href=../../tags/functools rel=tag>Functools</a>
,
<a class=tag-link href=../../tags/list-comprehension rel=tag>List Comprehension</a>
,
<a class=tag-link href=../../tags/maps rel=tag>Maps</a>
,
<a class=tag-link href=../../tags/python rel=tag>Python</a>
</div>
</div>
</header>
<div class=content itemprop=articleBody>
<p><img src=https://imgs.xkcd.com/comics/flatland.png alt=teaser></p>
<p>Today&rsquo;s article is about nested code and how to avoid it.</p>
<p>Why we should try to avoid nested code? Well the answer is inside your heart, and in your Python interpreter&mldr;</p>
<p>Start your REPL and write:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> <span style=color:#ff79c6>import</span> this
</code></pre></div><p>you will get the &ldquo;Zen Of Python&rdquo; by Tim Peters.</p>
<pre tabindex=0><code class=language-console data-lang=console>
The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one — and preferably only one — obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea — let's do more of those!
</code></pre><p>Now relax, breath, and read carefully all the statements, three times each.
Stop at the fifth statement and start meditating about that.</p>
<blockquote>
<p>Flat is better than nested
Flat is better than nested
Flat is better than nested</p>
</blockquote>
<p>Do you get it?
<em><strong>FLAT IS BETTER THAN NESTED!!</strong></em></p>
<p>So, let&rsquo;s start making your program <em>flatter</em>! :)</p>
<hr>
<h2 id=tip-1--list-comprehension>Tip #1 — List Comprehension</h2>
<p>Raise your hand if you have ever written code like this:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>my_input_numbers <span style=color:#ff79c6>=</span> [<span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>2</span>,<span style=color:#bd93f9>3</span>,<span style=color:#bd93f9>4</span>,<span style=color:#bd93f9>5</span>,<span style=color:#bd93f9>6</span>,<span style=color:#bd93f9>7</span>,<span style=color:#bd93f9>8</span>]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>my_odd_numbers <span style=color:#ff79c6>=</span> []
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span style=color:#ff79c6>for</span> number <span style=color:#ff79c6>in</span> my_input_numbers:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>    <span style=color:#ff79c6>if</span> number <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>2</span> <span style=color:#ff79c6>!=</span> <span style=color:#bd93f9>0</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span>        my_odd_numbers<span style=color:#ff79c6>.</span>append(number)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span><span style=color:#8be9fd;font-style:italic>print</span>(my_odd_numbers)
</code></pre></div><p>Come on, don&rsquo;t be shy! Raise your hand!
Ok, are you looking at this article with a hand raised?</p>
<p><strong>SHAME ON YOU!</strong></p>
<p>you probably don&rsquo;t know anything about <em>List Comprehension</em>, do you?</p>
<p>List comprehension is a (great) way of defining a list in Python, just like you&rsquo;d do in math. For example, by using list comprehension the previous code could be rewritten like this:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>my_input_numbers <span style=color:#ff79c6>=</span> [<span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>2</span>,<span style=color:#bd93f9>3</span>,<span style=color:#bd93f9>4</span>,<span style=color:#bd93f9>5</span>,<span style=color:#bd93f9>6</span>,<span style=color:#bd93f9>7</span>,<span style=color:#bd93f9>8</span>]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>my_odd_numbers <span style=color:#ff79c6>=</span> [x <span style=color:#ff79c6>for</span> x <span style=color:#ff79c6>in</span> my_input_numbers <span style=color:#ff79c6>if</span> x<span style=color:#ff79c6>%</span><span style=color:#bd93f9>2</span> <span style=color:#ff79c6>!=</span> <span style=color:#bd93f9>0</span>]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span style=color:#8be9fd;font-style:italic>print</span> (my_odd_numbers)
</code></pre></div><p>Pretty cool uh? And it&rsquo;s definitely flatter!</p>
<p>But list comprehension makes possible to do something more than just filter out even numbers from a list, for example, we can also manipulate the elements of the list:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>my_squared_odd_numbers <span style=color:#ff79c6>=</span> [x<span style=color:#ff79c6>*</span>x <span style=color:#ff79c6>for</span> x <span style=color:#ff79c6>in</span> my_input_numbers <span style=color:#ff79c6>if</span> x<span style=color:#ff79c6>%</span><span style=color:#bd93f9>2</span> <span style=color:#ff79c6>!=</span> <span style=color:#bd93f9>0</span>]
</code></pre></div><p>Or again, let&rsquo;s say that you want to create a list of tuples where you will put all the combinations of the (integer) numbers between 1 and 90 taken 2 at a time (quite common if you play the Italian lottery), how can you do this?</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>ambi <span style=color:#ff79c6>=</span> [(x, y) <span style=color:#ff79c6>for</span> x <span style=color:#ff79c6>in</span> <span style=color:#8be9fd;font-style:italic>range</span>(<span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>91</span>) <span style=color:#ff79c6>for</span> y <span style=color:#ff79c6>in</span> <span style=color:#8be9fd;font-style:italic>range</span>(x<span style=color:#ff79c6>+</span><span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>91</span>)]
</code></pre></div><p>Yes, that&rsquo;s so easy!
One line of code instead of two-nested-for-loops, that&rsquo;s it.</p>
<hr>
<h2 id=tip-2--map-filter-and-reduce>Tip #2 — Map, Filter and Reduce</h2>
<p>If you have liked list comprehension you will probably like also the three functions we&rsquo;re going to discuss here.</p>
<h3 id=the-map-function>The map function</h3>
<blockquote>
<p>map (<em>function</em>, <em>iterable</em>, <em>&mldr;</em>)</p>
</blockquote>
<p>The &ldquo;<em>map</em>&rdquo; function lets you execute a function on all the items of an iterable and returns an iterator with the result of this operation.</p>
<p>For example, let&rsquo;s write this one:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>my_numbers <span style=color:#ff79c6>=</span> [<span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>2</span>,<span style=color:#bd93f9>3</span>,<span style=color:#bd93f9>4</span>,<span style=color:#bd93f9>5</span>,<span style=color:#bd93f9>6</span>,<span style=color:#bd93f9>7</span>,<span style=color:#bd93f9>8</span>,<span style=color:#bd93f9>9</span>,<span style=color:#bd93f9>10</span>]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>my_squared_numbers <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>map</span>(<span style=color:#ff79c6>lambda</span> x:x<span style=color:#ff79c6>*</span>x, my_numbers)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#8be9fd;font-style:italic>list</span>(my_squared_numbers))
</code></pre></div><p>and we will have as a result:</p>
<pre tabindex=0><code class=language-console data-lang=console>[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
</code></pre><p>Ok, ok, I know that some of you are now thinking &ldquo;why don&rsquo;t you use list comprehension to make that?&rdquo;
Yes, it&rsquo;s true, I could have written something like this:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>my_squared_numbers <span style=color:#ff79c6>=</span> [x<span style=color:#ff79c6>*</span>x <span style=color:#ff79c6>for</span> x <span style=color:#ff79c6>in</span> my_numbers]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#8be9fd;font-style:italic>print</span>(my_squared_numbers)
</code></pre></div><p>but it&rsquo;s not the same. Look carefully to the two examples again&mldr;</p>
<p>Did you get that?</p>
<p>In the former example, after we used the *map *function we had to use the &ldquo;list&rdquo; class to print out the results. That&rsquo;s because &ldquo;<em>map&rdquo;</em> returns an iterator, not a real list.</p>
<p>If you are wondering what are iterators, go and check my <a href=https://medium.com/the-python-corner/iterators-and-generators-in-python-2c3929a144b>previous article</a> about the topic.</p>
<h3 id=the-filter-function>The filter function</h3>
<blockquote>
<p>filter (<em>function</em>, <em>iterable</em>)</p>
</blockquote>
<p>The &ldquo;<em>filter</em>&rdquo; function lets you filter out a list for certain values that meets a certain condition. Just like the the &ldquo;<em>map</em>&rdquo; function, the filter one return an iterator object with the results.</p>
<p>So, for example:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>my_numbers <span style=color:#ff79c6>=</span> [<span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>2</span>,<span style=color:#bd93f9>3</span>,<span style=color:#bd93f9>4</span>,<span style=color:#bd93f9>5</span>,<span style=color:#bd93f9>6</span>,<span style=color:#bd93f9>7</span>,<span style=color:#bd93f9>8</span>,<span style=color:#bd93f9>9</span>,<span style=color:#bd93f9>10</span>]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>my_odd_numbers <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>filter</span>(<span style=color:#ff79c6>lambda</span> x: x<span style=color:#ff79c6>%</span><span style=color:#bd93f9>2</span><span style=color:#ff79c6>!=</span><span style=color:#bd93f9>0</span>, my_numbers)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#8be9fd;font-style:italic>list</span>(my_odd_numbers))
</code></pre></div><p>Like before, if you don&rsquo;t need an iterable or if you do need a list, you can achieve the same result with list comprehension.</p>
<h3 id=the-reduce-function>The reduce function</h3>
<blockquote>
<p>functools.reduce (<em>function</em>, <em>iterable</em>[, <em>initializer</em>])</p>
</blockquote>
<p>The &ldquo;<em>reduce</em>&rdquo; is the last function we are going to discuss today. It lets you take an iterable and&mldr; reduce it literally to a single element by applying a function of two arguments cumulatively to the items of the iterable input. For example:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>import</span> functools
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>my_numbers <span style=color:#ff79c6>=</span> [<span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>2</span>,<span style=color:#bd93f9>3</span>,<span style=color:#bd93f9>4</span>,<span style=color:#bd93f9>5</span>,<span style=color:#bd93f9>6</span>,<span style=color:#bd93f9>7</span>,<span style=color:#bd93f9>8</span>,<span style=color:#bd93f9>9</span>,<span style=color:#bd93f9>10</span>]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>my_sum <span style=color:#ff79c6>=</span> functools<span style=color:#ff79c6>.</span>reduce(<span style=color:#ff79c6>lambda</span> x,y : x<span style=color:#ff79c6>+</span>y, my_numbers)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span style=color:#8be9fd;font-style:italic>print</span>(my_sum)
</code></pre></div><p>And the result will be 55!</p>
<p>That&rsquo;s great, isn&rsquo;t it?</p>
<p>As you can see we had to import the functools library to use the reduce function because since the release of Python 3 this function is no more a built-in standard function and it&rsquo;s now part of the functools library.</p>
<hr>
<h2 id=tip-3--ternary-conditional-operator>Tip #3 — Ternary conditional operator</h2>
<p>If you are used to languages like Swift or C# you have probabilly seen the ternary conditional operator before.</p>
<p>For example, in Swift you can write something like this:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#8be9fd;font-style:italic>let</span> <span style=color:#8be9fd;font-style:italic>x</span> = <span style=color:#bd93f9>5</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#6272a4>// let&#39;s get x*x only if x is an odd number...</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span style=color:#8be9fd;font-style:italic>let</span> <span style=color:#8be9fd;font-style:italic>squared_if_odd</span> = x<span style=color:#ff79c6>%</span><span style=color:#bd93f9>2</span> == <span style=color:#bd93f9>0</span> ? x : x<span style=color:#ff79c6>*</span>x
</code></pre></div><p>this operator is very handy because it avoids you to write code like this:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#8be9fd;font-style:italic>let</span> <span style=color:#8be9fd;font-style:italic>x</span> = <span style=color:#bd93f9>5</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#8be9fd;font-style:italic>var</span> <span style=color:#8be9fd;font-style:italic>squared_if_odd</span> = x
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span style=color:#ff79c6>if</span> x<span style=color:#ff79c6>%</span><span style=color:#bd93f9>2</span> <span style=color:#ff79c6>!=</span> <span style=color:#bd93f9>0</span> {
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>    squared_if_odd = x<span style=color:#ff79c6>*</span>x
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span>}
</code></pre></div><p>This handy ternary conditional operator is available also in Python, even if the syntax it a little different from what we could expect:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>x<span style=color:#ff79c6>=</span><span style=color:#bd93f9>5</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>squared_if_odd <span style=color:#ff79c6>=</span> x <span style=color:#ff79c6>if</span> x<span style=color:#ff79c6>%</span><span style=color:#bd93f9>2</span><span style=color:#ff79c6>==</span><span style=color:#bd93f9>0</span> <span style=color:#ff79c6>else</span> x<span style=color:#ff79c6>*</span>x
</code></pre></div><p>Really convenient and definitely flat!</p>
<p>That&rsquo;s all folks, go back to your code and start using these techniques; your code will be far more readable from now on.</p>
<p>Enjoy!
D.</p>
</div>
</article>
<hr>
<h2 style=color:#2bbc8a;text-align:center>Did you find this article helpful?</h2><br>
<style>.bmc-button img{height:34px!important;width:35px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{padding:7px 10px!important;line-height:35px!important;height:51px!important;min-width:217px!important;text-decoration:none!important;display:inline-flex!important;color:#fff!important;background-color:#ff813f!important;border-radius:5px!important;border:1px solid transparent!important;padding:7px 10px!important;font-size:22px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px rgba(190,190,190,.5)!important;-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;margin:0 auto!important;font-family:cookie,cursive!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-o-transition:.3s all linear!important;-webkit-transition:.3s all linear!important;-moz-transition:.3s all linear!important;-ms-transition:.3s all linear!important;transition:.3s all linear!important}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;text-decoration:none!important;box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;opacity:.85!important;color:#fff!important}</style>
<link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet>
<a class=bmc-button target=_blank href=https://www.buymeacoffee.com/dXjDHmt style=align:left>
<img src=https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg alt="Buy me a coffee!" align=left>
<span style=margin-left:15px;font-size:28px!important>Buy me a coffee!</span></a>
<hr>
<div class=blog-post-comments>
<div id=disquss_thread>
<script src=https://utteranc.es/client.js repo=mastro35/tpc issue-term=pathname label="The Python Corner" theme=github-dark crossorigin=anonymous async></script>
</div>
</div>
<div id=footer-post-container>
<div id=footer-post>
<div id=nav-footer style=display:none>
<ul>
<li><a href=../../>Home</a></li>
<li><a href=../../posts>Articles</a></li>
<li><a href=../../tags>Tags</a></li>
<li><a href=../../about>About</a></li>
<li><a href=https://buttondown.email/thepythoncorner>Newsletter</a></li>
<li><a href=https://shop.spreadshirt.com/the-python-corner>Swag Store</a></li>
</ul>
</div>
<div id=toc-footer style=display:none>
<nav id=TableOfContents>
<ul>
<li><a href=#tip-1--list-comprehension>Tip #1 — List Comprehension</a></li>
<li><a href=#tip-2--map-filter-and-reduce>Tip #2 — Map, Filter and Reduce</a>
<ul>
<li><a href=#the-map-function>The map function</a></li>
<li><a href=#the-filter-function>The filter function</a></li>
<li><a href=#the-reduce-function>The reduce function</a></li>
</ul>
</li>
<li><a href=#tip-3--ternary-conditional-operator>Tip #3 — Ternary conditional operator</a></li>
</ul>
</nav>
</div>
<div id=share-footer style=display:none>
<ul>
<li>
<a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f" aria-label=Facebook>
<i class="fab fa-facebook fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://twitter.com/share?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&text=The%20art%20of%20avoiding%20nested%20code" aria-label=Twitter>
<i class="fab fa-twitter fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&title=The%20art%20of%20avoiding%20nested%20code" aria-label=Linkedin>
<i class="fab fa-linkedin fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&is_video=false&description=The%20art%20of%20avoiding%20nested%20code" aria-label=Pinterest>
<i class="fab fa-pinterest fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="mailto:?subject=The%20art%20of%20avoiding%20nested%20code&body=Check out this article: https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f" aria-label=Email>
<i class="fas fa-envelope fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&title=The%20art%20of%20avoiding%20nested%20code" aria-label=Pocket>
<i class="fab fa-get-pocket fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&title=The%20art%20of%20avoiding%20nested%20code" aria-label=reddit>
<i class="fab fa-reddit fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&name=The%20art%20of%20avoiding%20nested%20code&description=Today%26rsquo%3bs%20article%20is%20about%20nested%20code%20and%20how%20to%20avoid%20it.%0aWhy%20we%20should%20try%20to%20avoid%20nested%20code%3f%20Well%20the%20answer%20is%20inside%20your%20heart%2c%20and%20in%20your%20Python%20interpreter%26hellip%3b%0aStart%20your%20REPL%20and%20write%3a%0a1%26gt%3b%26gt%3b%26gt%3b%20import%20this%20you%20will%20get%20the%20%26ldquo%3bZen%20Of%20Python%26rdquo%3b%20by%20Tim%20Peters.%0aThe%20Zen%20of%20Python%2c%20by%20Tim%20Peters%0dBeautiful%20is%20better%20than%20ugly.%0dExplicit%20is%20better%20than%20implicit.%0dSimple%20is%20better%20than%20complex." aria-label=Tumblr>
<i class="fab fa-tumblr fa-lg" aria-hidden=true></i>
</a>
</li>
<li>
<a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-12-04-the-art-of-avoiding-nested-code%2f&t=The%20art%20of%20avoiding%20nested%20code" aria-label="Hacker News">
<i class="fab fa-hacker-news fa-lg" aria-hidden=true></i>
</a>
</li>
</ul>
</div>
<div id=actions-footer>
<a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu>
<i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC>
<i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share>
<i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page">
<i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a>
</div>
</div>
</div>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021 Davide Mastromatteo
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=../../>Home</a></li>
<li><a href=../../posts>Articles</a></li>
<li><a href=../../tags>Tags</a></li>
<li><a href=../../about>About</a></li>
<li><a href=https://buttondown.email/thepythoncorner>Newsletter</a></li>
<li><a href=https://shop.spreadshirt.com/the-python-corner>Swag Store</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=../../lib/font-awesome/css/all.min.css>
<script src=../../lib/jquery/jquery.min.js></script>
<script src=../../js/main.js></script>
<script src=../../js/code-copy.js></script>
</html>