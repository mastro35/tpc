<!doctype html><html lang=en-us><head><script data-ad-client=ca-pub-1030730506660314 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script id=mNCC language=javascript>medianet_width="728",medianet_height="90",medianet_crid="167545135",medianet_versionId="3111299"</script><script src="//contextual.media.net/nmedianet.js?cid=8CU62P5S3"></script><script type=text/javascript src=https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js></script><script type=text/javascript src=https://blockchain.info/Resources/js/pay-now-button.js></script><link rel=preload href=../../lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=../../lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=../../lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=../../lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><script type=text/javascript src=https://latest.cactus.chat/cactus.js></script><link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Working with Exception in Python | The Python Corner</title><link rel=canonical href=https://mastro35.github.io/tpc/posts/2017-01-10-working-with-exception-in-python/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Working with Exception in Python"><meta property="og:description" content="According to the official documentation, an exception is &ldquo;an error detected during execution not unconditionally fatal&rdquo;. Let&rsquo;s start the interpreter and write:
1>>> 5/0 2Traceback (most recent call last): 3 File &#34;<pyshell#7>&#34;, line 1, in <module> 4 5/0 5ZeroDivisionError: division by zero As you can see we asked the interpreter to divide the number 5 by 0. Even if our request was syntactically correct when the interpreter tried to compute it, it &ldquo;raised&rdquo; the ZeroDivisionError exception to signal us that we asked something impossible."><meta property="og:type" content="article"><meta property="og:url" content="https://mastro35.github.io/tpc/posts/2017-01-10-working-with-exception-in-python/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-01-10T19:02:01+01:00"><meta property="article:modified_time" content="2017-01-10T19:02:01+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Working with Exception in Python"><meta name=twitter:description content="According to the official documentation, an exception is &ldquo;an error detected during execution not unconditionally fatal&rdquo;. Let&rsquo;s start the interpreter and write:
1>>> 5/0 2Traceback (most recent call last): 3 File &#34;<pyshell#7>&#34;, line 1, in <module> 4 5/0 5ZeroDivisionError: division by zero As you can see we asked the interpreter to divide the number 5 by 0. Even if our request was syntactically correct when the interpreter tried to compute it, it &ldquo;raised&rdquo; the ZeroDivisionError exception to signal us that we asked something impossible."><link rel=stylesheet href=https://mastro35.github.io/tpc/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N+XoIuZg=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://mastro35.github.io/tpc/images/favicon.ico><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-120027408-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><a href=https://mastro35.github.io/tpc/><image id=banner src=../../images/logo.png width=100%></a><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=../../>Home</a></li><li><a href=../../posts>Articles</a></li><li><a href=../../tags>Tags</a></li><li><a href=../../about>About</a></li><li><a href=../../help_us>Help Us</a></li><li><a href=https://buttondown.email/thepythoncorner>Newsletter</a></li><li><a href=https://shop.spreadshirt.com/the-python-corner>Swag Store</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://mastro35.github.io/tpc/posts/2016-12-22-python-metaclasses/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i></a></li><li><a class=icon href=https://mastro35.github.io/tpc/posts/2017-02-28-writing-a-fuse-filesystem-in-python/ aria-label=Next><i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i></a></li><li><a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&text=Working%20with%20Exception%20in%20Python" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&title=Working%20with%20Exception%20in%20Python" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&is_video=false&description=Working%20with%20Exception%20in%20Python" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Working%20with%20Exception%20in%20Python&body=Check out this article: https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&title=Working%20with%20Exception%20in%20Python" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&title=Working%20with%20Exception%20in%20Python" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&name=Working%20with%20Exception%20in%20Python&description=According%20to%20the%20official%20documentation%2c%20an%20exception%20is%20%26ldquo%3ban%20error%20detected%20during%20execution%20not%20unconditionally%20fatal%26rdquo%3b.%20Let%26rsquo%3bs%20start%20the%20interpreter%20and%20write%3a%0a1%26gt%3b%26gt%3b%26gt%3b%205%2f0%202Traceback%20%28most%20recent%20call%20last%29%3a%203%20File%20%26%2334%3b%26lt%3bpyshell%237%26gt%3b%26%2334%3b%2c%20line%201%2c%20in%20%26lt%3bmodule%26gt%3b%204%205%2f0%205ZeroDivisionError%3a%20division%20by%20zero%20As%20you%20can%20see%20we%20asked%20the%20interpreter%20to%20divide%20the%20number%205%20by%200.%20Even%20if%20our%20request%20was%20syntactically%20correct%20when%20the%20interpreter%20tried%20to%20compute%20it%2c%20it%20%26ldquo%3braised%26rdquo%3b%20the%20ZeroDivisionError%20exception%20to%20signal%20us%20that%20we%20asked%20something%20impossible." aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&t=Working%20with%20Exception%20in%20Python" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><a href=#handling-exception>Handling exception</a></li><li><a href=#raising-exception>Raising exception</a></li><li><a href=#define-custom-exception>Define custom exception</a></li><li><a href=#the-bottom-line>The bottom line</a></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Working with Exception in Python</h1><div class=meta><div class=postdate><time datetime="2017-01-10 19:02:01 +0100 +0100" itemprop=datePublished>2017-01-10</time></div><div class=author>by
Davide Mastromatteo</div><div class=article-read-time><i class="far fa-clock"></i>
7 minute read</div><div class=article-category><i class="fas fa-archive"></i>
<a class=category-link href=../../categories/dev>Dev</a></div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=../../tags/error-handling rel=tag>Error Handling</a>
,
<a class=tag-link href=../../tags/exception rel=tag>Exception</a>
,
<a class=tag-link href=../../tags/featured rel=tag>Featured</a>
,
<a class=tag-link href=../../tags/programming rel=tag>Programming</a>
,
<a class=tag-link href=../../tags/python rel=tag>Python</a></div></div></header><div class=content itemprop=articleBody><p><img src=https://imgs.xkcd.com/comics/compiler_complaint.png alt=teaser></p><p>According to the <a href=%22https://docs.python.org/3/tutorial/errors.html>official documentation</a>, an exception is &ldquo;an error detected during execution not unconditionally fatal&rdquo;. Let&rsquo;s start the interpreter and write:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> <span style=color:#bd93f9>5</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>0</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>Traceback (most recent call last):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>  File <span style=color:#f1fa8c>&#34;&lt;pyshell#7&gt;&#34;</span>, line <span style=color:#bd93f9>1</span>, <span style=color:#ff79c6>in</span> <span style=color:#ff79c6>&lt;</span>module<span style=color:#ff79c6>&gt;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>    <span style=color:#bd93f9>5</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>0</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>ZeroDivisionError: division by zero
</code></pre></div><p>As you can see we asked the interpreter to divide the number 5 by 0. Even if our request was syntactically correct when the interpreter tried to compute it, it &ldquo;raised&rdquo; the <em>ZeroDivisionError</em> exception to signal us that we asked something impossible. There are a lot of built-in exceptions in the base library to handle a different kind of errors (system errors, value errors, I/O errors, Arithmetic errors etc&mldr;) and to know how to handle this kind of errors is very important for every Python developer.</p><h2 id=handling-exception>Handling exception</h2><p>Handle an exception means to define what to do when a specific exception happens so that the execution can proceed smoothly.</p><p>The basic way to handle an exception is by using the <em>try</em> statement. Basically, we need to specify what we want to do, which kind of exceptions we do expect and what to do when one of these exceptions is raised.</p><p>To make an example, let&rsquo;s say we want to open a file to read it and show its content. To accomplish this task we can write this script:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span>f <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>open</span>(<span style=color:#f1fa8c>&#34;myfile.txt&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span style=color:#ff79c6>for</span> line <span style=color:#ff79c6>in</span> f:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>    <span style=color:#8be9fd;font-style:italic>print</span>(line)
</code></pre></div><p>The problem is: what happens if the file <em>myfile.txt</em> does not exist? Let&rsquo;s try&mldr;</p><pre><code class=language-console data-lang=console>Traceback (most recent call last):
  File &quot;exceptions.py&quot;, line 1, in &lt;module&gt;
    f = open(&quot;myfile.txt&quot;)
FileNotFoundError: [Errno 2] No such file or directory: 'myfile.txt'
</code></pre><p>Well, we get a <em>FileNotFoundException</em> and the execution stops. So, to handle this exception we could just modify the code as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>try</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>    f <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>open</span>(<span style=color:#f1fa8c>&#34;myfile.txt&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>    
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>    <span style=color:#ff79c6>for</span> line <span style=color:#ff79c6>in</span> f:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span>        <span style=color:#8be9fd;font-style:italic>print</span>(line)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span>    <span style=color:#ff79c6>except</span> FileNotFoundError:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span>        <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;The file does not exist&#34;</span>)
</code></pre></div><p>In this way, the interpreter tries to do what&rsquo;s inside the <em>try</em> block and, if a <em>FileNotFoundError</em> exception is raised, instead of writing the exception&rsquo;s detail on screen and exit, it just continues executing what&rsquo;s inside the <em>except</em> block. If the file existed, the exception would not be raised and the except block would be skipped.</p><p>Now, executing the script again, the result would be:</p><pre><code class=language-console data-lang=console>The file does not exist
</code></pre><p>It&rsquo;s worth to be noted that we can use more except clauses for a single try block. For example, the code could be modified as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>try</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>    f <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>open</span>(<span style=color:#f1fa8c>&#34;myfile.txt&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>    <span style=color:#ff79c6>for</span> line <span style=color:#ff79c6>in</span> f:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>        <span style=color:#8be9fd;font-style:italic>print</span>(line)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span style=color:#ff79c6>except</span> FileNotFoundError:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>    <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;The file does not exist&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span style=color:#ff79c6>except</span> PermissionError:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>    <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;You don&#39;t have the permission to open the file&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span style=color:#ff79c6>except</span> Exception:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>    <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;Unexpected error occured&#34;</span>)
</code></pre></div><p>In the latest example, we are trapping the exception to handle the case when the file does not exist, the exception to handle the case when the file exists but the user does not have the permission to read from it and any other error that could happen at run time, catching the general *Exception *exception. This is made possible thanks to the fact that in Python, everything is an object, even the exceptions. This means that almost all the exceptions that can be fired at runtime are actually derived from the <em>Exception</em> exception.</p><p>Here&rsquo;s the complete hierarchy as it appears in the <a href=https://docs.python.org/3/library/exceptions.html>official docs</a>:</p><pre><code>BaseException
 +-- SystemExit
 +-- KeyboardInterrupt
 +-- GeneratorExit
 +-- Exception
      +-- StopIteration
      +-- StopAsyncIteration
      +-- ArithmeticError
      |    +-- FloatingPointError
      |    +-- OverflowError
      |    +-- ZeroDivisionError
      +-- AssertionError
      +-- AttributeError
      +-- BufferError
      +-- EOFError
      +-- ImportError
           +-- ModuleNotFoundError
      +-- LookupError
      |    +-- IndexError
      |    +-- KeyError
      +-- MemoryError
      +-- NameError
      |    +-- UnboundLocalError
      +-- OSError
      |    +-- BlockingIOError
      |    +-- ChildProcessError
      |    +-- ConnectionError
      |    |    +-- BrokenPipeError
      |    |    +-- ConnectionAbortedError
      |    |    +-- ConnectionRefusedError
      |    |    +-- ConnectionResetError
      |    +-- FileExistsError
      |    +-- FileNotFoundError
      |    +-- InterruptedError
      |    +-- IsADirectoryError
      |    +-- NotADirectoryError
      |    +-- PermissionError
      |    +-- ProcessLookupError
      |    +-- TimeoutError
      +-- ReferenceError
      +-- RuntimeError
      |    +-- NotImplementedError
      |    +-- RecursionError
      +-- SyntaxError
      |    +-- IndentationError
      |         +-- TabError
      +-- SystemError
      +-- TypeError
      +-- ValueError
      |    +-- UnicodeError
      |         +-- UnicodeDecodeError
      |         +-- UnicodeEncodeError
      |         +-- UnicodeTranslateError
      +-- Warning
           +-- DeprecationWarning
           +-- PendingDeprecationWarning
           +-- RuntimeWarning
           +-- SyntaxWarning
           +-- UserWarning
           +-- FutureWarning
           +-- ImportWarning
           +-- UnicodeWarning
           +-- BytesWarning
           +-- ResourceWarning
</code></pre><p>Finally, you can have the need to execute some code after the try block is executed, whether or not the code in the try block has raised exceptions. In this case, you can add a <em>finally</em> clause. For example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>try</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>    f <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>open</span>(<span style=color:#f1fa8c>&#34;myfile.txt&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>    <span style=color:#ff79c6>for</span> line <span style=color:#ff79c6>in</span> f:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>        <span style=color:#8be9fd;font-style:italic>print</span>(line)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span style=color:#ff79c6>except</span> FileNotFoundError:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>    <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;The file does not exist&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span style=color:#ff79c6>except</span> PermissionError:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>    <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;You don&#39;t have the permission to open the file&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span style=color:#ff79c6>except</span> Exception:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>    <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;Unexpected error occured&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span style=color:#ff79c6>finally</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>    <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;The execution will now be terminated&#34;</span>)
</code></pre></div><p>In this last example, whatever happens, the message &ldquo;The execution will now be terminated&rdquo; will be shown before leaving the try/except block.</p><h2 id=raising-exception>Raising exception</h2><p>Now that we know what an exception is and how to handle exceptions, let&rsquo;s see how is it possible to raise exceptions by ourselves.
Look at this code:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>def</span> <span style=color:#50fa7b>get_numeric_value_from_keyboard</span>():
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>    <span style=color:#f1fa8c>&#39;&#39;&#39;Get a value from keyboard, if the value is not a valid number, raise a &#34;ValueError&#34; exception&#39;&#39;&#39;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>    input_value <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>input</span>(<span style=color:#f1fa8c>&#34;Please, enter an integer: &#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>    <span style=color:#ff79c6>if</span> <span style=color:#ff79c6>not</span> input_value<span style=color:#ff79c6>.</span>isdigit():
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>        <span style=color:#ff79c6>raise</span> ValueError(<span style=color:#f1fa8c>&#34;The value inserted is not a number&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>	<span style=color:#ff79c6>return</span> input_value
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span style=color:#ff79c6>while</span> <span style=color:#ff79c6>True</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>    <span style=color:#ff79c6>try</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>        numeric_value <span style=color:#ff79c6>=</span> get_numeric_value_from_keyboard()
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>        <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;You have inserted the value &#34;</span> <span style=color:#ff79c6>+</span> <span style=color:#8be9fd;font-style:italic>str</span>(numeric_value))
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>        <span style=color:#ff79c6>break</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span>    <span style=color:#ff79c6>except</span> ValueError <span style=color:#ff79c6>as</span> ex:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span>        <span style=color:#8be9fd;font-style:italic>print</span>(ex)
</code></pre></div><p>In this example, we have created a function that gets input from the user keyboard. If the input is numeric, it just returns the input to the caller, but if it&rsquo;s not, it raises a &ldquo;ValueError&rdquo; exception. Note that in this example, we&rsquo;re not just raising a <em>ValueError</em> exception but we are also specifying a custom message for the exception. In the except clause, we grab the exception, assign it to the <em>ex</em> variable and then we use the <em>ex</em> variable to print the message for the user.</p><p>Another possibility you have is to re-raise an exception once it gets caught in an except block. For example, try to modify the code as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>def</span> <span style=color:#50fa7b>get_numeric_value_from_keyboard</span>():
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>    <span style=color:#f1fa8c>&#39;&#39;&#39;Get a value from keyboard, if the value is not a valid number, raise a &#34;ValueError&#34; exception&#39;&#39;&#39;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span>    input_value <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>input</span>(<span style=color:#f1fa8c>&#34;Please, enter an integer: &#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>    <span style=color:#ff79c6>if</span> <span style=color:#ff79c6>not</span> input_value<span style=color:#ff79c6>.</span>isdigit():
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>        <span style=color:#ff79c6>raise</span> ValueError(<span style=color:#f1fa8c>&#34;The value inserted is not a number&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>    <span style=color:#ff79c6>return</span> input_value
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span style=color:#ff79c6>while</span> <span style=color:#ff79c6>True</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>    <span style=color:#ff79c6>try</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>        numeric_value <span style=color:#ff79c6>=</span> get_numeric_value_from_keyboard()
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>        <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;You have inserted the value &#34;</span> <span style=color:#ff79c6>+</span> <span style=color:#8be9fd;font-style:italic>str</span>(numeric_value))
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>        <span style=color:#ff79c6>break</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span>    <span style=color:#ff79c6>except</span> ValueError <span style=color:#ff79c6>as</span> ex:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span>        <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>&#34;Something strange happened...&#34;</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span>        <span style=color:#ff79c6>raise</span>
</code></pre></div><p>Now, if you run this code and insert a non-numeric value, the execution will be interrupted and you will get this message:</p><pre><code class=language-console data-lang=console>Please, enter an integer: asd
Something strange happened...
Traceback (most recent call last):
  File &quot;exceptions.py&quot;, line 12, in &lt;module&gt;
    numeric_value = get_numeric_value_from_keyboard()
  File &quot;exceptions.py&quot;, line 5, in get_numeric_value_from_keyboard
    raise ValueError(&quot;The value inserted is not a number&quot;)
ValueError: The value inserted is not a number
</code></pre><p>As you can see, in the except block we&rsquo;ve caught the <em>ValueError</em> exception, we&rsquo;ve done something (we&rsquo;ve printed the &ldquo;Something strange happened&mldr;&rdquo; message) and then we&rsquo;ve re-raised the same exception we previously caught. Obviously, since there were no other code blocks to catch our exception, the program has exited and the exception has been shown to the console.</p><h2 id=define-custom-exception>Define custom exception</h2><p>Knowing how to raise an exception is important especially if we want to build our custom exception. We&rsquo;ve already said that there&rsquo;s a hierarchy of exceptions, so to create our custom exception we just need to create a new class inheriting from the <em>Exception</em> class.</p><p>So, let&rsquo;s say that we are coding the software for an ATM, we could need a special &ldquo;WithdrawLimitError&rdquo; exception to be raised when the user asks for a too high sum of money. In this case, we can create our custom exception like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>WithdrawLimitError</span>(Exception):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span>    <span style=color:#ff79c6>pass</span>
</code></pre></div><p>Now, we can use it in our code just like any other exception.</p><h2 id=the-bottom-line>The bottom line</h2><p>There are several programming languages where the developer is asked to use exception just to handle &ldquo;errors&rdquo; because the handling of an exception can lead to performance issues. Well, the Python approach is completely different. Python internals relies on exceptions (for example, in a simple &ldquo;for&rdquo; loop the StopIteration exception is used to signal that there are no further items to iterate) and is encouraged the use of an exception to indicate failures, even when they are expected on regular basis.</p><p>So for example, if you have to open a file don&rsquo;t check whether it exists or not, just open it and handle the exception if something goes wrong. It makes the code more readable, <em>Pythonic</em>, and easier to be maintained.</p><p>Enjoy!
D.</p></div></article><hr><h2 style=color:#2bbc8a;text-align:center>Did you find this article helpful?</h2><br><style>.bmc-button img{height:34px!important;width:35px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{padding:7px 10px!important;line-height:35px!important;height:51px!important;min-width:217px!important;text-decoration:none!important;display:inline-flex!important;color:#fff!important;background-color:#ff813f!important;border-radius:5px!important;border:1px solid transparent!important;padding:7px 10px!important;font-size:22px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px rgba(190,190,190,.5)!important;-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;margin:0 auto!important;font-family:cookie,cursive!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-o-transition:.3s all linear!important;-webkit-transition:.3s all linear!important;-moz-transition:.3s all linear!important;-ms-transition:.3s all linear!important;transition:.3s all linear!important}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;text-decoration:none!important;box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;opacity:.85!important;color:#fff!important}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet><a class=bmc-button target=_blank href=https://www.buymeacoffee.com/dXjDHmt style=align:left><img src=https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg alt="Buy me a coffee!" align=left>
<span style=margin-left:15px;font-size:28px!important>Buy me a coffee!</span></a><hr><div class=blog-post-comments><div id=disquss_thread><script src=https://utteranc.es/client.js repo=mastro35/tpc issue-term=pathname label="The Python Corner" theme=github-dark crossorigin=anonymous async></script></div></div><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=../../>Home</a></li><li><a href=../../posts>Articles</a></li><li><a href=../../tags>Tags</a></li><li><a href=../../about>About</a></li><li><a href=../../help_us>Help Us</a></li><li><a href=https://buttondown.email/thepythoncorner>Newsletter</a></li><li><a href=https://shop.spreadshirt.com/the-python-corner>Swag Store</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><a href=#handling-exception>Handling exception</a></li><li><a href=#raising-exception>Raising exception</a></li><li><a href=#define-custom-exception>Define custom exception</a></li><li><a href=#the-bottom-line>The bottom line</a></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&text=Working%20with%20Exception%20in%20Python" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&title=Working%20with%20Exception%20in%20Python" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&is_video=false&description=Working%20with%20Exception%20in%20Python" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Working%20with%20Exception%20in%20Python&body=Check out this article: https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&title=Working%20with%20Exception%20in%20Python" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&title=Working%20with%20Exception%20in%20Python" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&name=Working%20with%20Exception%20in%20Python&description=According%20to%20the%20official%20documentation%2c%20an%20exception%20is%20%26ldquo%3ban%20error%20detected%20during%20execution%20not%20unconditionally%20fatal%26rdquo%3b.%20Let%26rsquo%3bs%20start%20the%20interpreter%20and%20write%3a%0a1%26gt%3b%26gt%3b%26gt%3b%205%2f0%202Traceback%20%28most%20recent%20call%20last%29%3a%203%20File%20%26%2334%3b%26lt%3bpyshell%237%26gt%3b%26%2334%3b%2c%20line%201%2c%20in%20%26lt%3bmodule%26gt%3b%204%205%2f0%205ZeroDivisionError%3a%20division%20by%20zero%20As%20you%20can%20see%20we%20asked%20the%20interpreter%20to%20divide%20the%20number%205%20by%200.%20Even%20if%20our%20request%20was%20syntactically%20correct%20when%20the%20interpreter%20tried%20to%20compute%20it%2c%20it%20%26ldquo%3braised%26rdquo%3b%20the%20ZeroDivisionError%20exception%20to%20signal%20us%20that%20we%20asked%20something%20impossible." aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2017-01-10-working-with-exception-in-python%2f&t=Working%20with%20Exception%20in%20Python" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC><i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2021 Davide Mastromatteo</div><div class=footer-right><nav><ul><li><a href=../../>Home</a></li><li><a href=../../posts>Articles</a></li><li><a href=../../tags>Tags</a></li><li><a href=../../about>About</a></li><li><a href=../../help_us>Help Us</a></li><li><a href=https://buttondown.email/thepythoncorner>Newsletter</a></li><li><a href=https://shop.spreadshirt.com/the-python-corner>Swag Store</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=../../lib/font-awesome/css/all.min.css><script src=../../lib/jquery/jquery.min.js></script><script src=../../js/main.js></script><script src=../../js/code-copy.js></script></html>