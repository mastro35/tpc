<!doctype html><html lang=en-us><head><script data-ad-client=ca-pub-1030730506660314 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script id=mNCC language=javascript>medianet_width="728",medianet_height="90",medianet_crid="167545135",medianet_versionId="3111299"</script><script src="//contextual.media.net/nmedianet.js?cid=8CU62P5S3"></script><script type=text/javascript src=https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js></script><script type=text/javascript src=https://blockchain.info/Resources/js/pay-now-button.js></script><link rel=preload href=../../lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=../../lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=../../lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=../../lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><script type=text/javascript src=https://latest.cactus.chat/cactus.js></script><link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Syntax sugar in Python 3.6 | The Python Corner</title><link rel=canonical href=https://mastro35.github.io/tpc/posts/2016-12-13-syntax_sugar_python_36/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Syntax sugar in Python 3.6"><meta property="og:description" content="On December the 8th Guido van Rossum (also known to be the BDFL or the Python project) announced on his twitter account that Python 3.6 rc1 has been officially released. That means that if no major problems will be found with this latest version, the final release is just around the corner and it&rsquo;s scheduled to be released on December the 16th, carrying among other things also some improvements in the Python syntax."><meta property="og:type" content="article"><meta property="og:url" content="https://mastro35.github.io/tpc/posts/2016-12-13-syntax_sugar_python_36/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-12-13T00:00:49+01:00"><meta property="article:modified_time" content="2016-12-13T00:00:49+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Syntax sugar in Python 3.6"><meta name=twitter:description content="On December the 8th Guido van Rossum (also known to be the BDFL or the Python project) announced on his twitter account that Python 3.6 rc1 has been officially released. That means that if no major problems will be found with this latest version, the final release is just around the corner and it&rsquo;s scheduled to be released on December the 16th, carrying among other things also some improvements in the Python syntax."><link rel=stylesheet href=https://mastro35.github.io/tpc/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N+XoIuZg=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://mastro35.github.io/tpc/images/favicon.ico><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-120027408-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><header id=header><a href=https://mastro35.github.io/tpc/><image id=banner src=../../images/logo.png width=100%></a><div id=nav><ul><li class=icon><a href=# aria-label=Menu><i class="fas fa-bars fa-2x" aria-hidden=true></i></a></li><li><a href=../../>Home</a></li><li><a href=../../posts>Articles</a></li><li><a href=../../tags>Tags</a></li><li><a href=../../about>About</a></li><li><a href=../../help_us>Help Us</a></li><li><a href=https://buttondown.email/thepythoncorner>Newsletter</a></li><li><a href=https://shop.spreadshirt.com/the-python-corner>Swag Store</a></li></ul></div></header><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast')" style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=../../>Home</a></li><li><a href=../../posts>Articles</a></li><li><a href=../../tags>Tags</a></li><li><a href=../../about>About</a></li><li><a href=../../help_us>Help Us</a></li><li><a href=https://buttondown.email/thepythoncorner>Newsletter</a></li><li><a href=https://shop.spreadshirt.com/the-python-corner>Swag Store</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://mastro35.github.io/tpc/posts/2016-12-6-object-serialization-python-pickle/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle()" onmouseout="$('#i-prev').toggle()"></i></a></li><li><a class=icon href=https://mastro35.github.io/tpc/posts/2016-12-22-python-metaclasses/ aria-label=Next><i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle()" onmouseout="$('#i-next').toggle()"></i></a></li><li><a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle()" onmouseout="$('#i-top').toggle()"></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle()" onmouseout="$('#i-share').toggle()" onclick="return $('#share').toggle(),!1"></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&text=Syntax%20sugar%20in%20Python%203.6" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&title=Syntax%20sugar%20in%20Python%203.6" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&is_video=false&description=Syntax%20sugar%20in%20Python%203.6" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Syntax%20sugar%20in%20Python%203.6&body=Check out this article: https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&title=Syntax%20sugar%20in%20Python%203.6" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&title=Syntax%20sugar%20in%20Python%203.6" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&name=Syntax%20sugar%20in%20Python%203.6&description=On%20December%20the%208th%20Guido%20van%20Rossum%20%28also%20known%20to%20be%20the%20BDFL%20or%20the%20Python%20project%29%20announced%20on%20his%20twitter%20account%20that%20Python%203.6%20rc1%20has%20been%20officially%20released.%20That%20means%20that%20if%20no%20major%20problems%20will%20be%20found%20with%20this%20latest%20version%2c%20the%20final%20release%20is%20just%20around%20the%20corner%20and%20it%26rsquo%3bs%20scheduled%20to%20be%20released%20on%20December%20the%2016th%2c%20carrying%20among%20other%20things%20also%20some%20improvements%20in%20the%20Python%20syntax." aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&t=Syntax%20sugar%20in%20Python%203.6" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><a href=#formatted-string-literals>Formatted string literals</a></li><li><a href=#underscores-in-numeric-literals>Underscores in Numeric Literals</a></li><li><a href=#syntax-for-variable-annotations>Syntax for variable annotations</a></li><li><a href=#asynchronous-generators>Asynchronous generators</a></li><li><a href=#asynchronous-comprehensions>Asynchronous comprehensions</a></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Syntax sugar in Python 3.6</h1><div class=meta><div class=postdate><time datetime="2016-12-13 00:00:49 +0100 +0100" itemprop=datePublished>2016-12-13</time></div><div class=article-read-time><i class="far fa-clock"></i>
3 minute read</div><div class=article-category><i class="fas fa-archive"></i>
<a class=category-link href=../../categories/dev>Dev</a></div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=../../tags/syntax rel=tag>syntax</a>
,
<a class=tag-link href=../../tags/synctactic-sugar rel=tag>synctactic sugar</a>
,
<a class=tag-link href=../../tags/python-3.6 rel=tag>python 3.6</a>
,
<a class=tag-link href=../../tags/python rel=tag>python</a></div></div></header><div class=content itemprop=articleBody><p><img src=https://imgs.xkcd.com/comics/formal_languages.png alt=teaser></p><p>On December the 8th <a href=https://www.twitter.com/@gvanrossum>Guido van Rossum</a> (also known to be the <a href=https://en.wikipedia.org/wiki/Benevolent_dictator_for_life>BDFL</a> or the Python project) announced on his twitter account that Python 3.6 rc1 has been officially released. That means that if no major problems will be found with this latest version, the final release is just around the corner and it&rsquo;s scheduled to be released on December the 16th, carrying among other things also some improvements in the Python syntax.</p><p>Let&rsquo;s have a look at this new &ldquo;syntax sugar&rdquo;!</p><h2 id=formatted-string-literals>Formatted string literals</h2><p>The formatted string literals are one of my favorite features ever! Since today, if you wanted to create a string with some variable value inside you could do something like:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> name <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;Dave&#34;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> <span style=color:#8be9fd;font-style:italic>print</span> (<span style=color:#f1fa8c>&#34;Hi &#34;</span> <span style=color:#ff79c6>+</span> name)
</code></pre></div><p>or:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-pytHON data-lang=pytHON><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> name <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;Dave&#34;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> <span style=color:#8be9fd;font-style:italic>print</span> (<span style=color:#f1fa8c>&#34;Hi </span><span style=color:#f1fa8c>%s</span><span style=color:#f1fa8c>&#34;</span> <span style=color:#ff79c6>%</span> name)
</code></pre></div><p>or again:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> name <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;Dave&#34;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#8be9fd;font-style:italic>str</span><span style=color:#ff79c6>.</span>format(<span style=color:#f1fa8c>&#34;Hi </span><span style=color:#f1fa8c>{0}</span><span style=color:#f1fa8c>&#34;</span>, name))
</code></pre></div><p>We&rsquo;re not going to describe the pros and cons of these methods here, but the shiny new method to accomplish this task is:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> name <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;Dave&#34;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> <span style=color:#8be9fd;font-style:italic>print</span> (<span style=color:#f1fa8c>f</span><span style=color:#f1fa8c>&#34;Hi </span><span style=color:#f1fa8c>{</span>name<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c>&#34;</span>)
</code></pre></div><p>Pretty cool, uh? And these methods works great also with other variable types like numbers. For example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> number <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>3</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> <span style=color:#8be9fd;font-style:italic>print</span>(<span style=color:#f1fa8c>f</span><span style=color:#f1fa8c>&#34;And the number is: </span><span style=color:#f1fa8c>{</span>number<span style=color:#f1fa8c>:</span><span style=color:#f1fa8c>5.3</span><span style=color:#f1fa8c>}</span><span style=color:#f1fa8c>&#34;</span>)
</code></pre></div><p>Note that in this last example we have also formatted the number specifying the width (5) and the precision (3).</p><h2 id=underscores-in-numeric-literals>Underscores in Numeric Literals</h2><p>This feature is better seen that explained: what&rsquo;s the value of the variable &ldquo;big_number&rdquo; after the foloowing assignment?</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> big_number <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1000000000</span>
</code></pre></div><p>If you like me needs to count the zeroes to say that big_number is a billion, you will be probabily happy to know that from now on, this assignment can be written like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> big_number <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1_000_000_000</span>
</code></pre></div><h2 id=syntax-for-variable-annotations>Syntax for variable annotations</h2><p>If you need to annotate the type of a variable now you can use this special syntax:</p><blockquote><p>variable: type</p></blockquote><p>this means that you can write something like</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> some_list: [<span style=color:#8be9fd;font-style:italic>int</span>] <span style=color:#ff79c6>=</span> []
</code></pre></div><p>this doesn&rsquo;t do anything more than before, Python is a dinamically typed language and so it will be in the future, but if you read some third party code this notation lets you know that some_list is not just a list, but it&rsquo;s intended to be a list of integers.</p><p>Please, note: I say it&rsquo;s <em>intended to be</em> just because nothing prevents you from assigning some_list any other kind of value! This new variable annotation is just intended to avoid writing something like:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span style=color:#ff79c6>&gt;&gt;&gt;</span> some_list <span style=color:#ff79c6>=</span> [] <span style=color:#6272a4># this is a list of integers</span>
</code></pre></div><h2 id=asynchronous-generators>Asynchronous generators</h2><p>Asynchronous generators have been awaited since Python 3.5, that introduced the async / await syntax feature. In fact, one of the limitation it had was that it was impossible to use the yield and the await statements in the same body. This restriction has been lifted and in the documentation, there&rsquo;s a quite interesting example that shows a function called &ldquo;ticker&rdquo; that generate a number from 0 to a limit passed as a parameter every X seconds (again, passed as a parameter).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>import</span> asyncio
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span style=color:#ff79c6>async</span> <span style=color:#ff79c6>def</span> <span style=color:#50fa7b>ticker</span>(delay, to):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>    <span style=color:#f1fa8c>&#34;&#34;&#34;Yield numbers from 0 to *to* every *delay* seconds.&#34;&#34;&#34;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>    <span style=color:#ff79c6>for</span> i <span style=color:#ff79c6>in</span> <span style=color:#8be9fd;font-style:italic>range</span>(to):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>        <span style=color:#ff79c6>yield</span> i
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>        <span style=color:#ff79c6>await</span> asyncio<span style=color:#ff79c6>.</span>sleep(delay)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span style=color:#ff79c6>async</span> <span style=color:#ff79c6>def</span> <span style=color:#50fa7b>main</span>():
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>    <span style=color:#ff79c6>async</span> <span style=color:#ff79c6>for</span> x <span style=color:#ff79c6>in</span> ticker(<span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>10</span>):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>        <span style=color:#8be9fd;font-style:italic>print</span>(x)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span style=color:#ff79c6>if</span> __name__ <span style=color:#ff79c6>==</span> <span style=color:#f1fa8c>&#34;__main__&#34;</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span>    loop <span style=color:#ff79c6>=</span> asyncio<span style=color:#ff79c6>.</span>get_event_loop()
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span>    loop<span style=color:#ff79c6>.</span>run_until_complete(main())
</code></pre></div><h2 id=asynchronous-comprehensions>Asynchronous comprehensions</h2><p>If I asked you to modify the previous example so to create a list using the generator you would probabily modify the code this way:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>import</span> asyncio
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>​
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span style=color:#ff79c6>async</span> <span style=color:#ff79c6>def</span> <span style=color:#50fa7b>ticker</span>(delay, to):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>    <span style=color:#f1fa8c>&#34;&#34;&#34;Yield numbers from 0 to *to* every *delay* seconds.&#34;&#34;&#34;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>    <span style=color:#ff79c6>for</span> i <span style=color:#ff79c6>in</span> <span style=color:#8be9fd;font-style:italic>range</span>(to):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>        <span style=color:#ff79c6>yield</span> i
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>        <span style=color:#ff79c6>await</span> asyncio<span style=color:#ff79c6>.</span>sleep(delay)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>​
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span style=color:#ff79c6>async</span> <span style=color:#ff79c6>def</span> <span style=color:#50fa7b>main</span>():
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>    mylist <span style=color:#ff79c6>=</span> []
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>    <span style=color:#ff79c6>async</span> <span style=color:#ff79c6>for</span> x <span style=color:#ff79c6>in</span>  ticker(<span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>10</span>):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>        mylist<span style=color:#ff79c6>.</span>append(x)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>​
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span>    <span style=color:#8be9fd;font-style:italic>print</span> (mylist)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span>​
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span style=color:#ff79c6>if</span> __name__ <span style=color:#ff79c6>==</span> <span style=color:#f1fa8c>&#34;__main__&#34;</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span>    loop <span style=color:#ff79c6>=</span> asyncio<span style=color:#ff79c6>.</span>get_event_loop()
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span>    loop<span style=color:#ff79c6>.</span>run_until_complete(main())
</code></pre></div><p>But wouldn&rsquo;t it be great if we could use list comprehensions like we normaly do? Now, we can:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>import</span> asyncio
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>​
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span style=color:#ff79c6>async</span> <span style=color:#ff79c6>def</span> <span style=color:#50fa7b>ticker</span>(delay, to):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span>    <span style=color:#f1fa8c>&#34;&#34;&#34;Yield numbers from 0 to *to* every *delay* seconds.&#34;&#34;&#34;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>    <span style=color:#ff79c6>for</span> i <span style=color:#ff79c6>in</span> <span style=color:#8be9fd;font-style:italic>range</span>(to):
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>        <span style=color:#ff79c6>yield</span> i
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>        <span style=color:#ff79c6>await</span> asyncio<span style=color:#ff79c6>.</span>sleep(delay)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>​
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span style=color:#ff79c6>async</span> <span style=color:#ff79c6>def</span> <span style=color:#50fa7b>main</span>():
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span>​
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>    mylist <span style=color:#ff79c6>=</span> [<span style=color:#ff79c6>await</span> x <span style=color:#ff79c6>async</span> <span style=color:#ff79c6>for</span> x <span style=color:#ff79c6>in</span>  ticker(<span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>10</span>)]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>    <span style=color:#8be9fd;font-style:italic>print</span> (mylist)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>​
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span style=color:#ff79c6>if</span> __name__ <span style=color:#ff79c6>==</span> <span style=color:#f1fa8c>&#34;__main__&#34;</span>:
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span>    loop <span style=color:#ff79c6>=</span> asyncio<span style=color:#ff79c6>.</span>get_event_loop()
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span>    loop<span style=color:#ff79c6>.</span>run_until_complete(main())
</code></pre></div><p>That&rsquo;s all for now, happy coding in Python 3.6!</p></div></article><hr><h2 style=color:#2bbc8a;text-align:center>Did you find this article helpful?</h2><br><style>.bmc-button img{height:34px!important;width:35px!important;margin-bottom:1px!important;box-shadow:none!important;border:none!important;vertical-align:middle!important}.bmc-button{padding:7px 10px!important;line-height:35px!important;height:51px!important;min-width:217px!important;text-decoration:none!important;display:inline-flex!important;color:#fff!important;background-color:#ff813f!important;border-radius:5px!important;border:1px solid transparent!important;padding:7px 10px!important;font-size:22px!important;letter-spacing:.6px!important;box-shadow:0 1px 2px rgba(190,190,190,.5)!important;-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;margin:0 auto!important;font-family:cookie,cursive!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-o-transition:.3s all linear!important;-webkit-transition:.3s all linear!important;-moz-transition:.3s all linear!important;-ms-transition:.3s all linear!important;transition:.3s all linear!important}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{-webkit-box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;text-decoration:none!important;box-shadow:0 1px 2px 2px rgba(190,190,190,.5)!important;opacity:.85!important;color:#fff!important}</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel=stylesheet><a class=bmc-button target=_blank href=https://www.buymeacoffee.com/dXjDHmt style=align:left><img src=https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg alt="Buy me a coffee!" align=left>
<span style=margin-left:15px;font-size:28px!important>Buy me a coffee!</span></a><hr><div class=blog-post-comments><div id=disquss_thread><script src=https://utteranc.es/client.js repo=mastro35/tpc issue-term=pathname label="The Python Corner" theme=github-dark crossorigin=anonymous async></script></div></div><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=../../>Home</a></li><li><a href=../../posts>Articles</a></li><li><a href=../../tags>Tags</a></li><li><a href=../../about>About</a></li><li><a href=../../help_us>Help Us</a></li><li><a href=https://buttondown.email/thepythoncorner>Newsletter</a></li><li><a href=https://shop.spreadshirt.com/the-python-corner>Swag Store</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><a href=#formatted-string-literals>Formatted string literals</a></li><li><a href=#underscores-in-numeric-literals>Underscores in Numeric Literals</a></li><li><a href=#syntax-for-variable-annotations>Syntax for variable annotations</a></li><li><a href=#asynchronous-generators>Asynchronous generators</a></li><li><a href=#asynchronous-comprehensions>Asynchronous comprehensions</a></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&text=Syntax%20sugar%20in%20Python%203.6" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&title=Syntax%20sugar%20in%20Python%203.6" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&is_video=false&description=Syntax%20sugar%20in%20Python%203.6" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Syntax%20sugar%20in%20Python%203.6&body=Check out this article: https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&title=Syntax%20sugar%20in%20Python%203.6" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&title=Syntax%20sugar%20in%20Python%203.6" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&name=Syntax%20sugar%20in%20Python%203.6&description=On%20December%20the%208th%20Guido%20van%20Rossum%20%28also%20known%20to%20be%20the%20BDFL%20or%20the%20Python%20project%29%20announced%20on%20his%20twitter%20account%20that%20Python%203.6%20rc1%20has%20been%20officially%20released.%20That%20means%20that%20if%20no%20major%20problems%20will%20be%20found%20with%20this%20latest%20version%2c%20the%20final%20release%20is%20just%20around%20the%20corner%20and%20it%26rsquo%3bs%20scheduled%20to%20be%20released%20on%20December%20the%2016th%2c%20carrying%20among%20other%20things%20also%20some%20improvements%20in%20the%20Python%20syntax." aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmastro35.github.io%2ftpc%2fposts%2f2016-12-13-syntax_sugar_python_36%2f&t=Syntax%20sugar%20in%20Python%203.6" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick="return $('#nav-footer').toggle(),!1" aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick="return $('#toc-footer').toggle(),!1" aria-label=TOC><i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick="return $('#share-footer').toggle(),!1" aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast')" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2021 Davide Mastromatteo</div><div class=footer-right><nav><ul><li><a href=../../>Home</a></li><li><a href=../../posts>Articles</a></li><li><a href=../../tags>Tags</a></li><li><a href=../../about>About</a></li><li><a href=../../help_us>Help Us</a></li><li><a href=https://buttondown.email/thepythoncorner>Newsletter</a></li><li><a href=https://shop.spreadshirt.com/the-python-corner>Swag Store</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=../../lib/font-awesome/css/all.min.css><script src=../../lib/jquery/jquery.min.js></script><script src=../../js/main.js></script><script src=../../js/code-copy.js></script></html>